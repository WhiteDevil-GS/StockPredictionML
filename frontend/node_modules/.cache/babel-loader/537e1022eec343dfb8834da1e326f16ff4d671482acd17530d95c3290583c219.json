{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91935\\\\Desktop\\\\POME1\\\\stockMarketPrediction\\\\frontend\\\\src\\\\components\\\\PredictStockPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport StockChart from './stockChart';\nimport LoadingSpinner from './loadingAnimation';\nimport notifyError from './Notifications';\nimport { ToastContainer } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PredictStockPage = () => {\n  _s();\n  const [predictionData, setPredictionData] = useState([]);\n  const [passedStockData, setPassedStockData] = useState([]);\n  const location = useLocation();\n  const {\n    state: locationState\n  } = location;\n  const {\n    startDate,\n    endDate,\n    stockSymbol,\n    stockName\n  } = locationState || {};\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    if (locationState && locationState.stockData) {\n      setPassedStockData(locationState.stockData);\n    }\n  }, [locationState]);\n  const predictStockPrice = async (startDate, endDate, stockSymbol) => {\n    try {\n      setLoading(true);\n      const predictionResponse = await fetch(`http://localhost:3001/predictstock/${startDate}/${endDate}/${stockSymbol}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          stockSymbol: stockSymbol + \".NS\",\n          startDate: startDate,\n          endDate: endDate\n        })\n      });\n      console.log(predictionResponse);\n      if (!predictionResponse.ok) {\n        notifyError(\"Prediction failed due to some error.\");\n        return;\n      }\n      const preData = await predictionResponse.json();\n      setPredictionData(preData.predictionDataInJSON);\n    } catch (error) {\n      console.error(\"Error fetching stock data:\", error);\n      const errorMessage = error.message || \"An error occurred while fetching the stock data.\";\n      notifyError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-9\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Click below button to predict stock price for next 30 days:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2 m-2\",\n      onClick: () => predictStockPrice(startDate, endDate, stockSymbol),\n      children: \"Click here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [loading && /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this), !loading && passedStockData.length > 0 && predictionData.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Prediction Data for \", stockName, \" ( \", stockSymbol, \" )\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StockChart, {\n          stockData: passedStockData,\n          startDate: startDate,\n          endDate: endDate,\n          selectedStock: stockSymbol,\n          predictedData: predictionData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-700\",\n          children: \"Disclaimer: This prediction tool is for educational purposes only. Investing in stocks involves risks, and decisions should be made based on careful research and consideration. Use this information at your own risk.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), !loading && predictionData.length === 0 && passedStockData.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No prediction data available. Please try again.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(PredictStockPage, \"5vM+K8z23+F37nuCo2Sa9jJssm8=\", false, function () {\n  return [useLocation];\n});\n_c = PredictStockPage;\nexport default PredictStockPage;\nvar _c;\n$RefreshReg$(_c, \"PredictStockPage\");","map":{"version":3,"names":["React","useEffect","useState","useLocation","StockChart","LoadingSpinner","notifyError","ToastContainer","jsxDEV","_jsxDEV","Fragment","_Fragment","PredictStockPage","_s","predictionData","setPredictionData","passedStockData","setPassedStockData","location","state","locationState","startDate","endDate","stockSymbol","stockName","loading","setLoading","stockData","predictStockPrice","predictionResponse","fetch","method","headers","body","JSON","stringify","console","log","ok","preData","json","predictionDataInJSON","error","errorMessage","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","selectedStock","predictedData","_c","$RefreshReg$"],"sources":["C:/Users/91935/Desktop/POME1/stockMarketPrediction/frontend/src/components/PredictStockPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport StockChart from './stockChart';\r\nimport LoadingSpinner from './loadingAnimation';\r\nimport notifyError from './Notifications';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nconst PredictStockPage = () => {\r\n  const [predictionData, setPredictionData] = useState([]);\r\n  const [passedStockData, setPassedStockData] = useState([]);\r\n  const location = useLocation();\r\n  const { state: locationState } = location;\r\n  const { startDate, endDate, stockSymbol, stockName } = locationState || {};\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (locationState && locationState.stockData) {\r\n      setPassedStockData(locationState.stockData);\r\n    }\r\n  }, [locationState]);\r\n\r\n  const predictStockPrice = async (startDate, endDate, stockSymbol) => {\r\n    try {\r\n      setLoading(true);\r\n      const predictionResponse = await fetch(`http://localhost:3001/predictstock/${startDate}/${endDate}/${stockSymbol}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          stockSymbol: stockSymbol + \".NS\",\r\n          startDate: startDate,\r\n          endDate: endDate,\r\n        }),\r\n      });\r\n      console.log(predictionResponse)\r\n      if (!predictionResponse.ok) {\r\n        notifyError(\"Prediction failed due to some error.\");\r\n        return;\r\n      }\r\n\r\n      const preData = await predictionResponse.json();\r\n      setPredictionData(preData.predictionDataInJSON);\r\n    } catch (error) {\r\n      console.error(\"Error fetching stock data:\", error);\r\n      const errorMessage = error.message || \"An error occurred while fetching the stock data.\";\r\n      notifyError(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mb-9\">\r\n      <h2>Click below button to predict stock price for next 30 days:</h2>\r\n      <button\r\n        className=\"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2 m-2\"\r\n        onClick={() => predictStockPrice(startDate, endDate, stockSymbol)}\r\n      >\r\n        Click here\r\n      </button>\r\n\r\n      <div>\r\n        {loading && <LoadingSpinner />}\r\n\r\n        {!loading && passedStockData.length > 0 && predictionData.length > 0 && (\r\n          <>\r\n            <h2>Prediction Data for {stockName} ( {stockSymbol} )</h2>\r\n            <StockChart\r\n              stockData={passedStockData}\r\n              startDate={startDate}\r\n              endDate={endDate}\r\n              selectedStock={stockSymbol}\r\n              predictedData={predictionData}\r\n            />\r\n            <p className=\"text-red-700\">\r\n              Disclaimer: This prediction tool is for educational purposes only. Investing in stocks involves risks,\r\n              and decisions should be made based on careful research and consideration.\r\n              Use this information at your own risk.\r\n            </p>\r\n          </>\r\n        )}\r\n\r\n        {!loading && predictionData.length === 0 && passedStockData.length === 0 && (\r\n          <p>No prediction data available. Please try again.</p>\r\n        )}\r\n      </div>\r\n\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PredictStockPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}