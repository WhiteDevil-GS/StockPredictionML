{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Downloads\\\\POME1\\\\StockPrediction\\\\POME1\\\\stockMarketPrediction\\\\frontend\\\\src\\\\components\\\\stockDataTable.jsx\";\nimport React from \"react\";\nimport { formatDateString } from \"./DateInput\";\nimport * as XLSX from 'xlsx';\n// import Papa from 'papaparse';\n\n// import { saveAs } from 'file-saver';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst downloadStockData = stockData => {\n  try {\n    const ws = XLSX.utils.json_to_sheet(stockData);\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, 'StockData');\n\n    // Instead of XLSX.write, we will use XLSX.writeFile\n    XLSX.writeFile(wb, 'StockData.xlsx');\n  } catch (error) {\n    console.error('Error downloading stock data:', error);\n  }\n};\n// const downloadStockData2 = (stockData) => {\n//   try {\n//     const csvContent = Papa.unparse(stockData, {\n//       header: true, // Include headers in the CSV\n//       quotes: true, // Add quotes around values\n//     });\n\n//     // Create a Blob with the CSV content\n//     const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8' });\n\n//     // Create a download link\n//     const link = document.createElement('a');\n//     link.href = window.URL.createObjectURL(blob);\n\n//     // Set the download attribute and file name\n//     link.setAttribute('download', 'StockData.csv');\n\n//     // Append the link to the document\n//     document.body.appendChild(link);\n\n//     // Trigger the click event to start the download\n//     link.click();\n\n//     // Remove the link from the document\n//     document.body.removeChild(link);\n//   } catch (error) {\n//     console.error('Error downloading stock data:', error);\n//   }\n// };\n\nconst StockDataTable = ({\n  stockData\n}) => {\n  // console.log(stockData);\n\n  if (!stockData) {\n    alert(\"No data found\", stockData);\n    return;\n  }\n  // console.log(stockData);\n\n  const indexOfMaxHigh = stockData.reduce((maxIndex, currentValue, currentIndex, array) => currentValue.high > array[maxIndex].high ? currentIndex : maxIndex, 0);\n  const indexOfMinHigh = stockData.reduce((minIndex, currentValue, currentIndex, array) => currentValue.high < array[minIndex].high ? currentIndex : minIndex, 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold\",\n        children: \"Stock Data Table\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        // onClick={downloadStockData(stockData)}\n        onClick: () => downloadStockData(stockData),\n        className: \"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2\",\n        children: \"Download Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-h-96 overflow-y-auto my-10\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"w-3/4 relative mx-auto my-5 text-sm text-left rtl:text-right text-gray-500 border border-collapse table-fixed\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-center rounded-tl-2xl rounded-tr border-b bg-gray-100 font-bold \",\n              children: \"Sr. No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-center border-b bg-gray-100 font-bold\",\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-center border-b bg-gray-100 font-bold\",\n              children: \"Open\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-center border-b bg-gray-100 font-bold\",\n              children: \"High\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-6 py-3 text-center rounded-tr-2xl border-b bg-gray-100 font-semibold\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: stockData === null || stockData === void 0 ? void 0 : stockData.map((item, index) => {\n            var _item$open, _item$high, _item$close;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: `hover:bg-gray-200 transition duration-300 ease-in-out ${index === indexOfMaxHigh ? 'bg-green-300' : ''} ${index === indexOfMinHigh ? 'bg-red-300' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-3 text-center border\",\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-3 text-center border\",\n                children: formatDateString(item.date)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-3 text-center border\",\n                children: (_item$open = item.open) === null || _item$open === void 0 ? void 0 : _item$open.toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-3 text-center border\",\n                children: (_item$high = item.high) === null || _item$high === void 0 ? void 0 : _item$high.toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-3 text-center border\",\n                children: (_item$close = item.close) === null || _item$close === void 0 ? void 0 : _item$close.toFixed(2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_c = StockDataTable;\nexport default StockDataTable;\nvar _c;\n$RefreshReg$(_c, \"StockDataTable\");","map":{"version":3,"names":["React","formatDateString","XLSX","jsxDEV","_jsxDEV","downloadStockData","stockData","ws","utils","json_to_sheet","wb","book_new","book_append_sheet","writeFile","error","console","StockDataTable","alert","indexOfMaxHigh","reduce","maxIndex","currentValue","currentIndex","array","high","indexOfMinHigh","minIndex","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","item","index","_item$open","_item$high","_item$close","date","open","toFixed","close","_c","$RefreshReg$"],"sources":["C:/Users/Administrator/Downloads/POME1/StockPrediction/POME1/stockMarketPrediction/frontend/src/components/stockDataTable.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { formatDateString } from \"./DateInput\";\r\nimport * as XLSX from 'xlsx';\r\n// import Papa from 'papaparse';\r\n\r\n// import { saveAs } from 'file-saver';\r\n\r\n\r\nconst downloadStockData = (stockData) => {\r\n  try {\r\n    const ws = XLSX.utils.json_to_sheet(stockData);\r\n    const wb = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(wb, ws, 'StockData');\r\n\r\n    // Instead of XLSX.write, we will use XLSX.writeFile\r\n    XLSX.writeFile(wb, 'StockData.xlsx');\r\n  } catch (error) {\r\n    console.error('Error downloading stock data:', error);\r\n  }\r\n};\r\n// const downloadStockData2 = (stockData) => {\r\n//   try {\r\n//     const csvContent = Papa.unparse(stockData, {\r\n//       header: true, // Include headers in the CSV\r\n//       quotes: true, // Add quotes around values\r\n//     });\r\n\r\n//     // Create a Blob with the CSV content\r\n//     const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8' });\r\n\r\n//     // Create a download link\r\n//     const link = document.createElement('a');\r\n//     link.href = window.URL.createObjectURL(blob);\r\n\r\n//     // Set the download attribute and file name\r\n//     link.setAttribute('download', 'StockData.csv');\r\n\r\n//     // Append the link to the document\r\n//     document.body.appendChild(link);\r\n\r\n//     // Trigger the click event to start the download\r\n//     link.click();\r\n\r\n//     // Remove the link from the document\r\n//     document.body.removeChild(link);\r\n//   } catch (error) {\r\n//     console.error('Error downloading stock data:', error);\r\n//   }\r\n// };\r\n\r\n\r\nconst StockDataTable = ({ stockData }) => {\r\n\r\n  // console.log(stockData);\r\n\r\n  if(!stockData){\r\n    alert(\"No data found\",stockData);\r\n    return;\r\n  }\r\n  // console.log(stockData);\r\n\r\n  const indexOfMaxHigh = stockData.reduce((maxIndex, currentValue, currentIndex, array) =>\r\n    currentValue.high > array[maxIndex].high ? currentIndex : maxIndex, 0);\r\n\r\n  const indexOfMinHigh = stockData.reduce((minIndex, currentValue, currentIndex, array) =>\r\n    currentValue.high < array[minIndex].high ? currentIndex : minIndex, 0);\r\n\r\n  return (\r\n    <div>\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n        <h2 className=\"text-2xl font-bold\">Stock Data Table</h2>\r\n        <button\r\n            // onClick={downloadStockData(stockData)}\r\n            onClick={() => downloadStockData(stockData)} \r\n            className=\"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2\"\r\n        >\r\n            Download Data\r\n        </button>\r\n        </div>\r\n        <div className=\"max-h-96 overflow-y-auto my-10\">\r\n        <table className=\"w-3/4 relative mx-auto my-5 text-sm text-left rtl:text-right text-gray-500 border border-collapse table-fixed\">\r\n            <thead>\r\n            <tr>\r\n                <th className=\"px-6 py-3 text-center rounded-tl-2xl rounded-tr border-b bg-gray-100 font-bold \">Sr. No</th>\r\n                <th className=\"px-6 py-3 text-center border-b bg-gray-100 font-bold\">Date</th>\r\n                <th className=\"px-6 py-3 text-center border-b bg-gray-100 font-bold\">Open</th>\r\n                <th className=\"px-6 py-3 text-center border-b bg-gray-100 font-bold\">High</th>\r\n                <th className=\"px-6 py-3 text-center rounded-tr-2xl border-b bg-gray-100 font-semibold\">Close</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            {stockData?.map((item, index) => (\r\n              <tr\r\n                key={index}\r\n                className={`hover:bg-gray-200 transition duration-300 ease-in-out ${\r\n                  index === indexOfMaxHigh ? 'bg-green-300' : ''\r\n                } ${index === indexOfMinHigh ? 'bg-red-300' : ''}`}\r\n              >\r\n                <td className=\"px-6 py-3 text-center border\">{index + 1}</td>\r\n                <td className=\"px-6 py-3 text-center border\">{formatDateString(item.date)}</td>\r\n                <td className=\"px-6 py-3 text-center border\">{item.open?.toFixed(2)}</td>\r\n                <td className=\"px-6 py-3 text-center border\">{item.high?.toFixed(2)}</td>\r\n                <td className=\"px-6 py-3 text-center border\">{item.close?.toFixed(2)}</td>\r\n              </tr>\r\n            ))}\r\n\r\n            </tbody>\r\n        </table>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StockDataTable;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}