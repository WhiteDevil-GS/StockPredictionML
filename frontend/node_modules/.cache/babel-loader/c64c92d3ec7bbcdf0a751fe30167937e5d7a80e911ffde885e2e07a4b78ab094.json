{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91935\\\\Desktop\\\\POME1\\\\stockMarketPrediction\\\\frontend\\\\src\\\\components\\\\PredictStockPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport StockChart from './stockChart';\n// import StockDataTable from './stockDataTable';\nimport LoadingSpinner from './loadingAnimation';\nimport notifyError from './Notifications';\nimport { ToastContainer } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PredictStockPage = () => {\n  _s();\n  // const { startDate, endDate, stockSymbol } = useParams();\n  const [predictionData, setPredictionData] = useState([]);\n  const [passedStockData, setPassedStockData] = useState([]);\n  const location = useLocation();\n  const {\n    state: locationState\n  } = location;\n  const {\n    startDate,\n    endDate,\n    stockSymbol,\n    stockName\n  } = locationState || {};\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    if (locationState && locationState.stockData) {\n      // Set stockData from location state if available\n      setPassedStockData(locationState.stockData);\n    }\n  }, [locationState]);\n  // console.log(passedStockData);\n  // console.log(startDate,endDate,stockSymbol);\n\n  const predictStockPrice = async (startDate, endDate, stockSymbol) => {\n    try {\n      setLoading(true);\n      const predictionResponse = await fetch(`https://stock-market-prediction-backend.vercel.app/predictstock/${startDate}/${endDate}/${stockSymbol}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          stockSymbol: stockSymbol + \".NS\",\n          startDate: startDate,\n          endDate: endDate\n        })\n      });\n      if (!predictionResponse.ok) {\n        notifyError(\"Prediction failed due to some error.\");\n        return;\n      }\n      const preData = await predictionResponse.json();\n      setPredictionData(preData.predictionDataInJSON);\n    } catch (error) {\n      console.error(\"Error fetching stock data:\", error);\n      notifyError(error);\n    } finally {\n      setLoading(false); // Set loading to false once data is fetched\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-9\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Click below buttton to predict stock price for next 30 days: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2 m-2\",\n      onClick: () => predictStockPrice(startDate, endDate, stockSymbol),\n      children: \"Click here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [loading && /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), !loading && passedStockData.length > 0 && predictionData.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Prediction Data for \", stockName, \" ( \", stockSymbol, \" ) \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StockChart, {\n          stockData: passedStockData,\n          startDate: startDate,\n          endDate: endDate,\n          selectedStock: stockSymbol,\n          predictedData: predictionData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-700\",\n          children: \"Disclaimer: This prediction tool is for educational purposes only. Investing in stocks involves risks, and decisions should be made based on careful research and consideration. Use this information at your own risk.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(PredictStockPage, \"5vM+K8z23+F37nuCo2Sa9jJssm8=\", false, function () {\n  return [useLocation];\n});\n_c = PredictStockPage;\nexport default PredictStockPage;\nvar _c;\n$RefreshReg$(_c, \"PredictStockPage\");","map":{"version":3,"names":["React","useEffect","useState","useLocation","StockChart","LoadingSpinner","notifyError","ToastContainer","jsxDEV","_jsxDEV","Fragment","_Fragment","PredictStockPage","_s","predictionData","setPredictionData","passedStockData","setPassedStockData","location","state","locationState","startDate","endDate","stockSymbol","stockName","loading","setLoading","stockData","predictStockPrice","predictionResponse","fetch","method","headers","body","JSON","stringify","ok","preData","json","predictionDataInJSON","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","selectedStock","predictedData","_c","$RefreshReg$"],"sources":["C:/Users/91935/Desktop/POME1/stockMarketPrediction/frontend/src/components/PredictStockPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useLocation} from 'react-router-dom';\r\nimport StockChart from './stockChart';\r\n// import StockDataTable from './stockDataTable';\r\nimport LoadingSpinner from './loadingAnimation';\r\nimport notifyError from './Notifications';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\n\r\nconst PredictStockPage = () => {\r\n  // const { startDate, endDate, stockSymbol } = useParams();\r\n  const [predictionData, setPredictionData] = useState([]);\r\n  const [passedStockData, setPassedStockData] = useState([]);\r\n  const location = useLocation();\r\n  const { state: locationState } = location;\r\n  const { startDate, endDate , stockSymbol , stockName} = locationState || {};\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  \r\n  useEffect(() => {\r\n    if (locationState && locationState.stockData) {\r\n      // Set stockData from location state if available\r\n      setPassedStockData(locationState.stockData);\r\n    }\r\n  }, [locationState]);\r\n  // console.log(passedStockData);\r\n  // console.log(startDate,endDate,stockSymbol);\r\n  \r\n  const predictStockPrice = async (startDate , endDate , stockSymbol) => {\r\n    try {\r\n      setLoading(true);\r\n      const predictionResponse = await fetch(`https://stock-market-prediction-backend.vercel.app/predictstock/${startDate}/${endDate}/${stockSymbol}`,{\r\n        method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            stockSymbol: stockSymbol+\".NS\",\r\n            startDate: startDate,\r\n            endDate: endDate,\r\n          }),\r\n      });\r\n      if (!predictionResponse.ok) {\r\n        notifyError(\"Prediction failed due to some error.\")\r\n        return;\r\n      }\r\n      const preData = await predictionResponse.json();\r\n      setPredictionData(preData.predictionDataInJSON);\r\n    } catch (error) {\r\n      console.error(\"Error fetching stock data:\", error);\r\n      notifyError(error);\r\n    } finally {\r\n      setLoading(false); // Set loading to false once data is fetched\r\n    }\r\n  }\r\n  \r\n\r\n  return (\r\n    <div className='mb-9'>\r\n      \r\n      <h2>Click below buttton to predict stock price for next 30 days: </h2>\r\n      <button className=\"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2 m-2\"\r\n        onClick={() => predictStockPrice(startDate, endDate, stockSymbol)}\r\n      >\r\n        Click here\r\n      </button>\r\n\r\n      <div>\r\n        {loading && <LoadingSpinner />}\r\n      \r\n        {!loading && passedStockData.length>0 && predictionData.length>0 && (\r\n          <>\r\n            <h2>Prediction Data for {stockName} ( {stockSymbol} ) </h2>\r\n            <StockChart\r\n              stockData={passedStockData}\r\n              startDate={startDate}\r\n              endDate={endDate}\r\n              selectedStock={stockSymbol}\r\n              predictedData={predictionData}\r\n            />\r\n            <p className='text-red-700'>\r\n              Disclaimer: This prediction tool is for educational purposes only. Investing in stocks involves risks,\r\n              and decisions should be made based on careful research and consideration.\r\n              Use this information at your own risk.\r\n            </p>\r\n            \r\n          </>\r\n        )}\r\n\r\n\r\n      </div>\r\n\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\n\r\nexport default PredictStockPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}